<svg width="1200" height"650" viewBox="0 0 1200 650">
  <text x="600" y="40" text-anchor="middle" dominant-baseline="central" font-size="1.65em" font-family="cursive" font-weight="bold" fill="black">ROS2 Internal API Architecture</text>
  <line x1="60.0" y1="107.0" x2="1000.0" y2="107.0" stroke="black" stroke-width="2" stroke-opacity="0.25" />
  <line x1="60.0" y1="279.0" x2="1000.0" y2="279.0" stroke="black" stroke-width="2" stroke-opacity="0.25" />
  <line x1="60.0" y1="438.0" x2="1000.0" y2="438.0" stroke="black" stroke-width="2" stroke-opacity="0.25" />
  <line x1="60.0" y1="592.0" x2="1000.0" y2="592.0" stroke="black" stroke-width="2" stroke-opacity="0.25" />
  <text x="1000" y="193" text-anchor="start" dominant-baseline="central" font-size="1.5em" font-family="cursive" font-weight="bold" fill="black">Application Layer</text>
  <text x="1000" y="358.5" text-anchor="start" dominant-baseline="central" font-size="1.5em" font-family="cursive" font-weight="bold" fill="black">Client Layer</text>
  <text x="1000" y="515" text-anchor="start" dominant-baseline="central" font-size="1.5em" font-family="cursive" font-weight="bold" fill="black">Middleware Layer</text>
  <rect x="64" y="125" rx="20" ry="20" width="256" height="132" fill="#00ccff" />
  <rect x="379" y="125" rx="20" ry="20" width="256" height="132" fill="#00ccff" />
  <rect x="692" y="125" rx="20" ry="20" width="256" height="132" fill="#00ccff" />
  <path id="path" d="m 192.84244,234.23143 c -2.82491,47.27076 39.23875,143.96255 77.16833,187.12889 61.08435,51.47114 134.48662,133.59323 246.33795,131.2162 89.41969,2.83906 14.93392,-119.2815 -6.95622,-195.10847 -18.99482,-78.35221 -14.3914,-42.43984 -14.18649,-125.91369" stroke="black" stroke-width="3" fill="none" />
  <ellipse id="message" rx="30" ry="15" fill="gray" />
  <text id="text" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">data</text>
  <animateMotion href="#message" dur="5s" repeatCount="indefinite" calcMode="paced">
    <mpath href="#path"/>
  </animateMotion>
  <animateMotion href="#text" dur="5s" repeatCount="indefinite" calcMode="paced">
    <mpath href="#path"/>
  </animateMotion>
  <rect x="62" y="298" rx="20" ry="20" width="256" height="50" fill="#37c837" />
  <text x="190" y="320" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">rclcpp (C++ API)</text>
  <rect x="379" y="298" rx="20" ry="20" width="256" height="50" fill="#37c837" />
  <text x="507" y="320" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">rclpy (Python API)</text>
  <rect x="692" y="298" rx="20" ry="20" width="256" height="50" fill="#37c837" />
  <text x="820" y="320" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">Third Party API</text>
  <rect x="62" y="368" rx="20" ry="20" width="886" height="50" fill="#217821" />
  <text x="490" y="393" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">ROS Client Library (rcl - C API)</text>
  <rect x="62" y="452" rx="20" ry="20" width="886" height="50" fill="#aa4400" />
  <text x="490" y="475" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">ROS Middleware Interface (rmw - C API)</text>
  <rect x="62" y="521" rx="20" ry="20" width="256" height="50" fill="#ff6600" />
  <text x="190" y="543" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">Cyclone DDS</text>
  <rect x="379" y="521" rx="20" ry="20" width="256" height="50" fill="#ff6600" />
  <text x="507" y="543" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">Fast DDS</text>
  <rect x="692" y="521" rx="20" ry="20" width="256" height="50" fill="#ff6600" />
  <text x="820" y="543" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">Other Vendor DDS</text>
  <text x="192" y="155" text-anchor="middle" dominant-baseline="top" font-size="1.1em" font-family="cursive" font-weight="bold" fill="white">User Code (C++)</text>
  <ellipse cx="195" cy="210" rx="100" ry="25" fill="#3771c8" />
  <text x="191" y="210" text-anchor="middle" dominant-baseline="central" font-size="1.0em" font-family="cursive" font-weight="bold" fill="white">PUBLISHER</text>
  <text x="504" y="155" text-anchor="middle" dominant-baseline="top" font-size="1.1em" font-family="cursive" font-weight="bold" fill="white">User Code (Py)</text>
  <ellipse cx="500" cy="210" rx="100" ry="25" fill="#3771c8" />
  <text x="500" y="210" text-anchor="middle" dominant-baseline="central" font-size="1.0em" font-family="cursive" font-weight="bold" fill="white">SUBSCRIBER</text>
  <text x="816" y="155" text-anchor="middle" dominant-baseline="top" font-size="1.1em" font-family="cursive" font-weight="bold" fill="white">User Code (Third Party)</text>
  <ellipse cx="816" cy="210" rx="100" ry="25" fill="#3771c8" />
  <text x="816" y="210" text-anchor="middle" dominant-baseline="central" font-size="1.0em" font-family="cursive" font-weight="bold" fill="white">PUBLISHER</text>

  <!-- <ellipse cx="250" cy="575" rx="100" ry="25" fill="#2ca02c" />
  <text x="250" y="575" text-anchor="middle" dominant-baseline="central" font-size="1.0em" font-family="cursive" font-weight="bold" fill="white">PUBLISHER</text>
  <path id="path" d="m 349.99998,574.99998 c 0,0 30.01054,0.4984 44.86389,-1.29167 14.32778,-1.72673 30.00371,-1.57161 42.33333,-9.07142 9.4823,-5.76786 16.97566,-15.42533 21.16667,-25.70238 6.68506,-16.39287 4.5357,-52.91666 4.5357,-52.91666 0,0 -0.0858,-17.92522 2.26788,-26.45834 2.75694,-9.99489 5.70885,-21.25339 13.60712,-27.97023 8.01636,-6.81727 19.81175,-7.64738 30.23812,-9.07143 13.48569,-1.8419 27.21394,-0.60683 40.82454,-0.69642 49.9113,-0.32853 100.50112,-0.67168 150.4109,-1.18118 9.5825,-0.0978 23.73507,-0.32009 33.2824,-1.14621 12.2602,-1.06086 21.80594,-0.7101 30.99405,-12.09524 0,0 8.87635,-8.90083 12.09523,-24.94643 5.77399,-28.78244 3.67433,-19.23306 6.04762,-28.72619 0,0 1.60816,-15.6601 6.80358,-23.43452 4.70437,-7.0396 12.77346,-15.24377 20.41071,-18.89881 10.80549,-5.1713 23.61457,-4.05509 35.52976,-5.29167 18.37108,-1.90657 54.58851,-1.10119 54.58851,-1.10119" stroke="black" stroke-width="3" fill="none" />
  <path d="m 899.99999,304.99999 -21.4739,-9.61277 -0.0187,19.22111 z" stroke-width="3" />
  <animateMotion href="#message" dur="5s" repeatCount="indefinite" calcMode="paced">
    <mpath href="#path"/>
  </animateMotion>
  <rect x="550" y="385" rx="20" ry="20" width="150" height="75" fill="#619f8a" />
  <text x="625" y="420" text-anchor="middle" dominant-baseline="central" font-size="1.25em" font-family="cursive" font-weight="bold" fill="white">TOPIC</text> -->
</svg>
